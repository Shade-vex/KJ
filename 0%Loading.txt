--// UI và Toggle Button
local ScreenGui = Instance.new("ScreenGui", game.CoreGui)
ScreenGui.Name = "CatMemeGUI"

local MainFrame = Instance.new("Frame", ScreenGui)
MainFrame.Size = UDim2.new(0, 400, 0, 300)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -150)
MainFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Visible = true

-- Tiêu đề
local Title = Instance.new("TextLabel", MainFrame)
Title.Size = UDim2.new(1, 0, 0, 30)
Title.Position = UDim2.new(0, 0, 0, 0)
Title.BackgroundTransparency = 1
Title.Text = "Loading Cat V1"
Title.TextColor3 = Color3.new(1, 1, 1)
Title.Font = Enum.Font.GothamBold
Title.TextSize = 22

-- Toggle Button
local ToggleBtn = Instance.new("ImageButton", ScreenGui)
ToggleBtn.Name = "MinimizeButton"
ToggleBtn.Size = UDim2.new(0, 50, 0, 50)
ToggleBtn.Position = UDim2.new(0, 10, 0, 10)
ToggleBtn.BackgroundColor3 = Color3.fromRGB(10, 10, 10)
ToggleBtn.Image = "http://www.roblox.com/asset/?id=113684414634355"

-- Bo góc
local UICorner = Instance.new("UICorner", ToggleBtn)
UICorner.CornerRadius = UDim.new(1, 0)

-- Âm thanh loading
local sound = Instance.new("Sound", ToggleBtn)
sound.SoundId = "rbxassetid://9118823107" -- âm thanh loading nhẹ
sound.Volume = 1
sound.Name = "LoadingSound"

-- Logic bật tắt GUI
local isVisible = true
ToggleBtn.MouseButton1Click:Connect(function()
	isVisible = not isVisible
	MainFrame.Visible = isVisible
	sound:Play()
end)

--===[ CHỨC NĂNG Noclip ]===--

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local LocalPlayer = Players.LocalPlayer

local noclipEnabled = false
local noclipConnection

local function ToggleNoclip(state)
	noclipEnabled = state

	if noclipEnabled then
		if noclipConnection then
			noclipConnection:Disconnect()
		end
		noclipConnection = RunService.Stepped:Connect(function()
			if LocalPlayer.Character then
				for _, part in pairs(LocalPlayer.Character:GetDescendants()) do
					if part:IsA("BasePart") then
						part.CanCollide = false
					end
				end
			end
		end)
	else
		if noclipConnection then
			noclipConnection:Disconnect()
			noclipConnection = nil
		end
	end
end

-- Nút noclip trong GUI
local NoclipButton = Instance.new("TextButton", MainFrame)
NoclipButton.Size = UDim2.new(0, 200, 0, 40)
NoclipButton.Position = UDim2.new(0.5, -100, 0, 60)
NoclipButton.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
NoclipButton.TextColor3 = Color3.new(1, 1, 1)
NoclipButton.Font = Enum.Font.Gotham
NoclipButton.TextSize = 16
NoclipButton.Text = "Noclip"

local corner = Instance.new("UICorner", NoclipButton)
corner.CornerRadius = UDim.new(0, 8)

NoclipButton.MouseButton1Click:Connect(function()
	noclipEnabled = not noclipEnabled
	ToggleNoclip(noclipEnabled)
	NoclipButton.Text = noclipEnabled and "Tắt Noclip" or "Bật Noclip"
end)